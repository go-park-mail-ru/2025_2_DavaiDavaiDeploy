syntax = "proto3";
package auth; 
option go_package = "./internal/pkg/auth/delivery/grpc/gen/;gen";

service Auth {
  rpc SignupUser(SignupRequest) returns (AuthResponse) {}
  rpc SignInUser(SignInRequest) returns (AuthResponse) {}
  rpc CheckAuth(CheckAuthRequest) returns (UserResponse) {}
  rpc GetUser(GetUserRequest) returns (UserResponse) {}
  rpc ChangePassword(ChangePasswordRequest) returns (AuthResponse) {}
  rpc ChangeAvatar(ChangeAvatarRequest) returns (AuthResponse) {}
}

message UserResponse {
  string ID = 1;       
  int32 Version = 2;  
  string Login = 3;
  string Avatar = 4;
}

message SignupRequest {
  string Login = 1;
  string Password = 2;
}

message SignInRequest {  
  string Login = 1;
  string Password = 2;
}

message AuthResponse {  
  UserResponse user = 1;
}

message CheckAuthRequest {}  

message LogOutUserRequest {} 

message GetUserRequest {
  string id = 1;
}

message ChangePasswordRequest {
  string OldPassword = 1;
  string NewPassword = 2;
}

message ChangeAvatarRequest {
  bytes avatar = 1; 
}

message LogOutUserResponse {}